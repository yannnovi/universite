echo off
rem $Id: test.cmd,v 1.3 2004/01/23 22:16:09 yann Exp $
date /t
time /t
echo ==========================================================================
echo ==========================================================================
echo ==========================================================================
echo Test unitaire encodage.
echo test 1: Fichier vide.

encode < teste1com.txt
echo --------------------------------------------------------------------------
echo resultat:
type teste1.txt.ref
echo ==========================================================================
echo ==========================================================================
echo ==========================================================================
echo Test unitaire encodage.
echo test 2: Fichier sans doublons ni $.

encode < teste2com.txt
echo --------------------------------------------------------------------------
echo resultat:
type teste2.txt.ref
echo ==========================================================================
echo ==========================================================================
echo ==========================================================================
echo Test unitaire encodage.
echo test 3: Fichier avec plusieurs doublons.

encode < teste3com.txt
echo --------------------------------------------------------------------------
echo resultat:
type teste3.txt.ref
echo ==========================================================================
echo ==========================================================================
echo ==========================================================================
echo Test unitaire encodage.
echo test 4: Fichier avec plusieurs doublons.

encode < teste4com.txt
echo --------------------------------------------------------------------------
echo resultat:
type teste4.txt.ref

echo ==========================================================================
echo ==========================================================================
echo ==========================================================================
echo Test unitaire encodage.
echo test 5: Fichier avec certains cas de $.

encode < teste5com.txt
echo --------------------------------------------------------------------------
echo resultat:
type teste5.txt.ref

echo ==========================================================================
echo ==========================================================================
echo ==========================================================================
echo Test unitaire encodage.
echo test 6: Fichier qui n'existe pas.

encode < teste6com.txt

echo ==========================================================================
echo ==========================================================================
echo ==========================================================================
echo Test unitaire encodage.
echo test 7: Ecrasement sans avertissement.

encode < teste7com.txt
encode < teste7com.txt

echo ==========================================================================
echo ==========================================================================
echo ==========================================================================
echo Test unitaire decodage.
echo test 8: Fichier vide.

decode < testd1com.txt
echo --------------------------------------------------------------------------
echo resultat:
type testd1.txt.drf

echo ==========================================================================
echo ==========================================================================
echo ==========================================================================
echo Test unitaire decodage.
echo test 9: Fichier non vide mais sans $.

decode < testd2com.txt
echo --------------------------------------------------------------------------
echo resultat:
type testd2.txt.drf

echo ==========================================================================
echo ==========================================================================
echo ==========================================================================
echo Test unitaire decodage.
echo test 10: avec une reference invalide.

decode < testd3com.txt

echo ==========================================================================
echo ==========================================================================
echo ==========================================================================
echo Test unitaire decodage.
echo test 11: deux $$ consécutif.

decode < testd4com.txt
echo --------------------------------------------------------------------------
echo resultat:
type testd4.txt.drf

echo ==========================================================================
echo ==========================================================================
echo ==========================================================================
echo Test unitaire decodage.
echo test 12: avec plusieurs $.

decode < testd5com.txt
echo --------------------------------------------------------------------------
echo resultat:
type testd5.txt.drf

echo ==========================================================================
echo ==========================================================================
echo ==========================================================================
echo Test unitaire decodage.
echo test 13: Une reference.

decode < testd6com.txt
echo --------------------------------------------------------------------------
echo resultat:
type testd6.txt.drf

echo ==========================================================================
echo ==========================================================================
echo ==========================================================================
echo Test unitaire decodage.
echo test 14: Nom de fichier qui content un .ref.

decode < testd7com.txt

echo ==========================================================================
echo ==========================================================================
echo ==========================================================================
echo Test integration.
echo test 15: Texte complet.
encode < testi1com.txt
echo --------------------------------------------------------------------------
echo encode resultat:
type testi.txt.ref

decode < testi2com.txt
echo --------------------------------------------------------------------------
echo decode resultat:
type testi.txt
